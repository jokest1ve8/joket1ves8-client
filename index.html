<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" type="text/css" href="style.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
        integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">

    <title>Jokest1ve8!</title>
</head>

<body>
    
    <!-- Navbar -->
    <nav class="navbar  navbar-light bg-warning navbar-fixed-top">
        <a class="navbar-brand"> <strong> Jokest1ve8 </strong></a>
        <div class="form-inline">
            <button class="btn btn-outline-success my-2 my-sm-0" onclick="logout()" type="submit">Logout</button>
        </div>
    </nav>

    <!-- Login Form -->
    <div >
        <div class=" jumbotron" id="loginPage">
            <h1 class="alert text-warning text-center">Login Page</h1>
            <form id="login-form" class="container">
                <div class="form-group col-5 ">
                    <label class="text-warning" for="loginInputEmail">Email address</label>
                    <input type="email" class="form-control" id="loginInputEmail" aria-describedby="emailHelp">
                    <small id="emailHelp" class="form-text text-muted">We'll never share your email with anyone else.</small>
                </div>
                <div class="form-group col-5">
                    <label class="text-warning" for="loginInputPassword">Password</label>
                    <input type="password" class="form-control" id="loginInputPassword">
                </div>
                <div class="text-center">
                    <button type="submit" class="btn btn-warning btn-lg ">Login</button>
            </form>
            <button type="button" onclick="registerForm()" class="btn btn-info btn-lg ">Register</button>
        </div>
    </div>

    <!-- Register Form -->
    <form id="register-form" class="container">
        <h1 class="alert text-info text-center">Register Page</h1>

        <div class="form-group">
            <label for="InputEmail">Email address</label>
            <input type="email" class="form-control" id="InputEmail" aria-describedby="emailHelp">
            <small id="emailHelp" class="form-text text-muted">We'll never share your email with anyone else.</small>
        </div>
        <div class="form-group">
            <label for="InputPassword">Password</label>
            <input type="password" class="form-control" id="InputPassword">
        </div>
        <button type="submit" class="btn btn-info btn-block">Submit</button>
    </form>

    <!-- Main Page -->
    <div class="container-fluid text-white text-center mt-10" id="mainPage" >
        <button type="button" id="btn-add" onclick="createPage()" class="btn btn-warning btn-lg">&#128512 Bring me your Jokes &#128512</button>
        <br><br>
        <div class="row">
            <div class=" col-sm-4 pt-5 pb-5 " style="width: 18rem;">
                <img src="https://awsimages.detik.net.id/community/media/visual/2020/08/11/meme-beda-anak-twitter-vs-anak-instagram-kamu-yang-mana-5.png?w=750&q=90"
                    class="card-img-top">
                <div class="card">
                    <p class="card-text text-body">Some quick example text to build on the card title and make up the
                        bulk of the card's content.</p>
                </div>
            </div>
            <div class=" col-sm-4 pt-5 pb-5 " style="width: 18rem;">
                <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSDIcyTO8Fw2T1yVyI3R73_4XoUyl5c05-AcQ&usqp=CAU"
                    class="card-img-top">
                <div class="card">
                    <p class="card-text text-body">Some quick example text to build on the card title and make up the
                        bulk of the card's content.</p>
                </div>
            </div>
            <div class=" col-sm-4 pt-5 pb-5 " style="width: 18rem;">
                <img src="https://cdn.kinsights.com/cache/82/51/825185b61ee204ce35a5aa9495c73adf.jpg"
                    class="card-img-top">
                <div class="card">
                    <p class="card-text text-body">Some quick example text to build on the card title and make up the
                        bulk of the card's content.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- add new Jokes -->

    <div class=" jumbotron" id="addNew">
        <h1 class="alert text-dark text-center"> <strong>Your Jokes </strong></h1>
        <form id="create-form" class="container">
            <div class="form-group col-5 ">
                <label class="text-dark" for="newUrl"> <b>Url Picture </b> </label>
                <input type="email" class="form-control" id="newUrl" placeholder="put the url link of your picture here" aria-describedby="emailHelp">
            </div>
            <div class="form-group col-5">
                <label class="text-dark"  for="newCaption"> <b> Caption</b></label>
                <input type="text" id="caption" class="form-control" id="newCaption">
            </div>
            <br><br>
            <div class="text-center">
                <button type="submit" class="btn btn-warning btn-lg w-50 ">Add Joke</button>
            </div>
        </form>
    </div>


    <!-- Option 1: jQuery and Bootstrap Bundle (includes Popper) -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
        integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx"
        crossorigin="anonymous"></script>

        <script>
            let baseUrl = 'http://localhost:3000'

            // function fetchJokes(){
            //     let access_token = localStorage.access_token

            // }
            function registerForm(){
                $("#loginPage").hide()
                $("#mainPage").hide()
                $("#register-form").show()
                $("#addNew").hide()


            }
            function showLogin(){
                $("#loginPage").show()
                $("#register-form").hide()
                $("#mainPage").hide()
                $("#addNew").hide()

            }
            function mainPage(){
                $("#loginPage").hide()
                $("#register-form").hide()
                $("#mainPage").show()
                $("#addNew").hide()

            }

            function createPage(){
                $("#loginPage").hide()
                $("#register-form").hide()
                $("#mainPage").hide()
                $("#addNew").show()
            }
            function logout(){
                localStorage.clear();
                showLogin()
                var auth2 = gapi.auth2.getAuthInstance();
                auth2.signOut().then(function () {
                console.log('User signed out.');
                });
            }


            $(document).ready(() =>{
                if(localStorage.getItem('access_token')){
                    mainPage()

                } else {
                    showLogin()
                }

                $("#login-form").on('submit' , function (e) {
                    e.preventDefault();
                    mainPage()
                })
                $("#register-form").on('submit' , function (e) {
                    e.preventDefault();
                    showLogin()
                })

            })
        </script>

</body>

</html>